{"version":3,"file":"Tree.test.js","sourceRoot":"","sources":["../../../../src/components/Tree/Tree.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import { fireEvent, render } from '@testing-library/react';\nimport React from 'react';\nimport { Tree } from './Tree';\n\ndescribe('Tree', () => {\n  test('renders without title', () => {\n    const { getByTestId } = render(<Tree />);\n    const treeElement = getByTestId('kda-tree-item');\n    expect(treeElement).toBeInTheDocument();\n  });\n\n  test('renders with title', () => {\n    const { getByTestId } = render(<Tree title={'Example Title'} />);\n    const treeTitleElement = getByTestId('kda-tree-title');\n    expect(treeTitleElement).toBeInTheDocument();\n  });\n\n  test('expands/collapses on click', () => {\n    const onOpen = jest.fn();\n    const onClose = jest.fn();\n\n    const { getAllByTestId } = render(\n      <Tree\n        title={'Example Title'}\n        items={[{ title: 'Child Title' }]}\n        onOpen={onOpen}\n        onClose={onClose}\n      />,\n    );\n\n    const treeTitleElement = getAllByTestId('kda-tree-title')[0];\n\n    expect(onOpen).toHaveBeenCalledTimes(0);\n    fireEvent.click(treeTitleElement);\n    expect(treeTitleElement).toHaveClass('isOpen');\n    expect(onOpen).toHaveBeenCalledTimes(1);\n    expect(onClose).toHaveBeenCalledTimes(0);\n\n    fireEvent.click(treeTitleElement);\n    expect(treeTitleElement).not.toHaveClass('isOpen');\n    expect(onOpen).toHaveBeenCalledTimes(1);\n    expect(onClose).toHaveBeenCalledTimes(1);\n  });\n\n  test('expands/collapses on click while linked prop is true', () => {\n    const onOpenFirst = jest.fn();\n    const onCloseFirst = jest.fn();\n    const onOpenSecond = jest.fn();\n    const onCloseSecond = jest.fn();\n\n    const { getAllByTestId } = render(\n      <Tree\n        title={'Example Title'}\n        isOpen={true}\n        linked={true}\n        items={[\n          {\n            title: 'First Child Title',\n            onOpen: onOpenFirst,\n            onClose: onCloseFirst,\n            items: [{ title: 'Grand child' }],\n          },\n          {\n            title: 'Second Child Title',\n            onOpen: onOpenSecond,\n            onClose: onCloseSecond,\n            items: [{ title: 'Grand child' }],\n          },\n        ]}\n      />,\n    );\n\n    const treeTitleElement = getAllByTestId('kda-tree-title')[0];\n    expect(treeTitleElement).toHaveClass('isOpen');\n\n    const firstTitle = getAllByTestId('kda-tree-title')[1];\n    const secondTitle = getAllByTestId('kda-tree-title')[2];\n\n    expect(firstTitle).toBeInTheDocument();\n    expect(secondTitle).toBeInTheDocument();\n    expect(onOpenFirst).toHaveBeenCalledTimes(0);\n    expect(onCloseFirst).toHaveBeenCalledTimes(0);\n    expect(onOpenSecond).toHaveBeenCalledTimes(0);\n    expect(onCloseSecond).toHaveBeenCalledTimes(0);\n\n    fireEvent.click(firstTitle);\n    expect(onOpenFirst).toHaveBeenCalledTimes(1);\n\n    fireEvent.click(secondTitle);\n    expect(onCloseFirst).toHaveBeenCalledTimes(1);\n    expect(onOpenSecond).toHaveBeenCalledTimes(1);\n\n    fireEvent.click(secondTitle);\n    expect(onCloseSecond).toHaveBeenCalledTimes(1);\n  });\n\n  test('renders child items when expanded, and callbacks should not get called when there is no grand child', () => {\n    const onChildOpen = jest.fn();\n    const onChildClose = jest.fn();\n\n    const { getAllByTestId } = render(\n      <Tree\n        title={'Example Title'}\n        items={[\n          {\n            title: 'Child Title',\n            onOpen: onChildOpen,\n            onClose: onChildClose,\n          },\n        ]}\n      />,\n    );\n    const treeTitleElement = getAllByTestId('kda-tree-title')[0];\n    fireEvent.click(treeTitleElement);\n\n    const treeChildTitleElement = getAllByTestId('kda-tree-title')[1];\n    expect(treeChildTitleElement).toBeInTheDocument();\n\n    expect(onChildOpen).toHaveBeenCalledTimes(0);\n    expect(onChildClose).toHaveBeenCalledTimes(0);\n    fireEvent.click(treeChildTitleElement);\n    expect(onChildOpen).toHaveBeenCalledTimes(0);\n    expect(onChildClose).toHaveBeenCalledTimes(0);\n  });\n\n  test('renders child items when expanded, and callbacks should get called when there is grand child', () => {\n    const onChildOpen = jest.fn();\n    const onChildClose = jest.fn();\n\n    const { getAllByTestId } = render(\n      <Tree\n        title={'Example Title'}\n        items={[\n          {\n            title: 'Child Title',\n            onOpen: onChildOpen,\n            onClose: onChildClose,\n            items: [{ title: 'grand child' }],\n          },\n        ]}\n      />,\n    );\n    const treeTitleElement = getAllByTestId('kda-tree-title')[0];\n    fireEvent.click(treeTitleElement);\n\n    const treeChildTitleElement = getAllByTestId('kda-tree-title')[1];\n    expect(treeChildTitleElement).toBeInTheDocument();\n\n    expect(onChildOpen).toHaveBeenCalledTimes(0);\n    expect(onChildClose).toHaveBeenCalledTimes(0);\n\n    fireEvent.click(treeChildTitleElement);\n    expect(onChildOpen).toHaveBeenCalledTimes(1);\n\n    fireEvent.click(treeChildTitleElement);\n    expect(onChildClose).toHaveBeenCalledTimes(1);\n  });\n});\n"]}