{"version":3,"file":"NavAccordionSection.js","sourceRoot":"","sources":["../../../../src/components/NavAccordion/NavAccordionSection.tsx"],"names":[],"mappings":"AAAA,YAAY,CAAC;AACb,OAAO,EACL,oBAAoB,EACpB,0BAA0B,EAC1B,qBAAqB,EACrB,wBAAwB,GACzB,MAAM,qCAAqC,CAAC;AAC7C,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,UAAU,MAAM,YAAY,CAAC;AAEpC,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,OAAO,CAAC;AACpD,OAAO,EAAE,mBAAmB,EAAE,MAAM,wBAAwB,CAAC;AAC7D,OAAO,EACL,qBAAqB,EACrB,yBAAyB,GAC1B,MAAM,oBAAoB,CAAC;AAE5B,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;AAcxD,MAAM,CAAC,MAAM,mBAAmB,GAAkC,CAAC,EACjE,QAAQ,EACR,OAAO,EACP,MAAM,EACN,KAAK,GACN,EAAE,EAAE;IACH,MAAM,EAAE,YAAY,EAAE,eAAe,EAAE,MAAM,EAAE,GAC7C,UAAU,CAAC,mBAAmB,CAAC,CAAC;IAClC,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC;IAC1D,MAAM,MAAM,GAAG,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IAEhD,MAAM,WAAW,GAAG,GAAS,EAAE;QAC7B,IAAI,MAAM,EAAE;YACV,eAAe,CACb,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAC/D,CAAC;YACF,OAAO,aAAP,OAAO,uBAAP,OAAO,EAAI,CAAC;SACb;aAAM;YACL,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;YACrE,MAAM,aAAN,MAAM,uBAAN,MAAM,EAAI,CAAC;SACZ;IACH,CAAC,CAAC;IAEF,OAAO,CACL,iCAAS,SAAS,EAAE,qBAAqB;QACvC,gCACE,SAAS,EAAE,UAAU,CAAC,CAAC,oBAAoB,CAAC,CAAC,EAC7C,OAAO,EAAE,WAAW;YAEpB,4BAAI,SAAS,EAAE,0BAA0B,IAAG,KAAK,CAAM;YACvD,oBAAC,UAAU,CAAC,KAAK,IACf,SAAS,EAAE,UAAU,CAAC,wBAAwB,EAAE;oBAC9C,MAAM;iBACP,CAAC,EACF,IAAI,EAAC,IAAI,GACT,CACK;QAER,QAAQ,IAAI,MAAM,IAAI,CACrB,4BAAI,SAAS,EAAE,qBAAqB,IACjC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;YAChC,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,KAAK,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;YAC/D,MAAM,SAAS,GACb,OAAO,KAAK,IAAI;gBACd,CAAC,CAAC,qBAAqB;gBACvB,CAAC,CAAC,yBAAyB,CAAC;YAChC,OAAO,oBAAC,OAAO,IAAC,SAAS,EAAE,SAAS,IAAG,KAAK,CAAW,CAAC;QAC1D,CAAC,CAAC,CACC,CACN,CACO,CACX,CAAC;AACJ,CAAC,CAAC","sourcesContent":["'use client';\nimport {\n  accordionButtonClass,\n  accordionHeadingTitleClass,\n  accordionSectionClass,\n  accordionToggleIconClass,\n} from '@components/Accordion/Accordion.css';\nimport { SystemIcon } from '@components/Icon';\nimport classNames from 'classnames';\nimport type { FC, FunctionComponentElement as FCElement } from 'react';\nimport React, { Children, useContext } from 'react';\nimport { NavAccordionContext } from './NavAccordion.context';\nimport {\n  navAccordionListClass,\n  navAccordionListItemClass,\n} from './NavAccordion.css';\nimport type { INavAccordionGroupProps } from './NavAccordionGroup';\nimport { NavAccordionGroup } from './NavAccordionGroup';\nimport type { INavAccordionLinkProps } from './NavAccordionLink';\n\nexport interface INavAccordionSectionProps {\n  children?:\n    | FCElement<INavAccordionGroupProps>[]\n    | FCElement<INavAccordionLinkProps>[]\n    | FCElement<INavAccordionGroupProps>\n    | FCElement<INavAccordionLinkProps>;\n  onClose?: () => void;\n  onOpen?: () => void;\n  title: string;\n}\n\nexport const NavAccordionSection: FC<INavAccordionSectionProps> = ({\n  children,\n  onClose,\n  onOpen,\n  title,\n}) => {\n  const { openSections, setOpenSections, linked } =\n    useContext(NavAccordionContext);\n  const sectionId = title.replace(/\\s+/g, '').toLowerCase();\n  const isOpen = openSections.includes(sectionId);\n\n  const handleClick = (): void => {\n    if (isOpen) {\n      setOpenSections(\n        linked ? [] : [...openSections.filter((i) => i !== sectionId)],\n      );\n      onClose?.();\n    } else {\n      setOpenSections(linked ? [sectionId] : [...openSections, sectionId]);\n      onOpen?.();\n    }\n  };\n\n  return (\n    <section className={accordionSectionClass}>\n      <button\n        className={classNames([accordionButtonClass])}\n        onClick={handleClick}\n      >\n        <h3 className={accordionHeadingTitleClass}>{title}</h3>\n        <SystemIcon.Close\n          className={classNames(accordionToggleIconClass, {\n            isOpen,\n          })}\n          size=\"sm\"\n        />\n      </button>\n\n      {children && isOpen && (\n        <ul className={navAccordionListClass}>\n          {Children.map(children, (child) => {\n            const Element = child.type === NavAccordionGroup ? 'ul' : 'li';\n            const className =\n              Element === 'ul'\n                ? navAccordionListClass\n                : navAccordionListItemClass;\n            return <Element className={className}>{child}</Element>;\n          })}\n        </ul>\n      )}\n    </section>\n  );\n};\n"]}