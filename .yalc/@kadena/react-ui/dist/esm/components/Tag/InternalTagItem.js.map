{"version":3,"file":"InternalTagItem.js","sourceRoot":"","sources":["../../../../src/components/Tag/InternalTagItem.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,EAAE,SAAS,EAAE,MAAM,mBAAmB,CAAC;AAE9C,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE,MAAM,EAAE,MAAM,YAAY,CAAC;AAE7D,OAAO,EAAE,GAAG,EAAE,MAAM,OAAO,CAAC;AAC5B,OAAO,EAAE,gBAAgB,EAAE,YAAY,EAAE,MAAM,WAAW,CAAC;AAE3D,MAAM,WAAW,GAAoC,CAAC,KAAK,EAAE,EAAE;IAC7D,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC/B,MAAM,EAAE,WAAW,EAAE,GAAG,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IAE9C,OAAO,CACL,gCAAQ,SAAS,EAAE,gBAAgB,KAAM,WAAW,EAAE,GAAG,EAAE,GAAG;QAC5D,oBAAC,UAAU,CAAC,KAAK,IAAC,IAAI,EAAC,IAAI,GAAG,CACvB,CACV,CAAC;AACJ,CAAC,CAAC;AAWF,MAAM,CAAC,MAAM,eAAe,GAA8B,CAAC,EACzD,QAAQ,EACR,OAAO,EACP,GAAG,KAAK,EACT,EAAE,EAAE;IACH,MAAM,EAAE,KAAK,EAAE,GAAG,KAAK,CAAC;IACxB,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC/B,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,GAAG,YAAY,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;IACtE,MAAM,EAAE,QAAQ,EAAE,aAAa,EAAE,iBAAiB,EAAE,cAAc,EAAE,GAAG,MAAM,CAC3E,KAAK,EACL,KAAK,EACL,GAAG,CACJ,CAAC;IAEF,MAAM,UAAU,GAAG,CAAC,OAAkB,EAAa,EAAE,CAAC,CACpD,oBAAC,GAAG,OAAK,aAAa;QACnB,OAAO;QACP,cAAc,IAAI,oBAAC,WAAW,OAAK,iBAAiB,GAAI,CACrD,CACP,CAAC;IAEF,IAAI,OAAO,IAAI,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;QAC7C,OAAO,KAAK,CAAC,YAAY,CAAC,QAAQ,EAAE;YAClC,SAAS,EAAE,YAAY;YACvB,GAAG,QAAQ,CAAC,KAAK;YACjB,GAAG,QAAQ;YACX,GAAG,UAAU;YACb,oBAAoB,EAAE,cAAc;YACpC,GAAG,EAAE,SAAS,CAAC,GAAG,EAAG,QAAgB,CAAC,GAAG,CAAC;YAC1C,QAAQ,EAAE,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC;SAC9C,CAAC,CAAC;KACJ;IAED,OAAO,CACL,6BACE,SAAS,EAAE,YAAY,EACvB,GAAG,EAAE,GAAG,KACJ,QAAQ,KACR,UAAU,wBACM,cAAc,IAEjC,UAAU,CAAC,QAAQ,CAAC,CACjB,CACP,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { SystemIcon } from '@components/Icon';\nimport { mergeRefs } from '@react-aria/utils';\nimport type { FC, ReactNode } from 'react';\nimport React from 'react';\nimport type { AriaButtonOptions, AriaTagProps } from 'react-aria';\nimport { useButton, useFocusRing, useTag } from 'react-aria';\nimport type { ListState } from 'react-stately';\nimport { Tag } from './Tag';\nimport { closeButtonClass, tagItemClass } from './Tag.css';\n\nconst CloseButton: FC<AriaButtonOptions<'button'>> = (props) => {\n  const ref = React.useRef(null);\n  const { buttonProps } = useButton(props, ref);\n\n  return (\n    <button className={closeButtonClass} {...buttonProps} ref={ref}>\n      <SystemIcon.Close size=\"sm\" />\n    </button>\n  );\n};\n\ninterface IInternalTagItemProps extends AriaTagProps<object> {\n  state: ListState<object>;\n  children?: React.ReactNode;\n  asChild?: boolean;\n}\n\n/**\n * @private\n */\nexport const InternalTagItem: FC<IInternalTagItemProps> = ({\n  children,\n  asChild,\n  ...props\n}) => {\n  const { state } = props;\n  const ref = React.useRef(null);\n  const { focusProps, isFocusVisible } = useFocusRing({ within: true });\n  const { rowProps, gridCellProps, removeButtonProps, allowsRemoving } = useTag(\n    props,\n    state,\n    ref,\n  );\n\n  const getContent = (content: ReactNode): ReactNode => (\n    <Tag {...gridCellProps}>\n      {content}\n      {allowsRemoving && <CloseButton {...removeButtonProps} />}\n    </Tag>\n  );\n\n  if (asChild && React.isValidElement(children)) {\n    return React.cloneElement(children, {\n      className: tagItemClass,\n      ...children.props,\n      ...rowProps,\n      ...focusProps,\n      'data-focus-visible': isFocusVisible,\n      ref: mergeRefs(ref, (children as any).ref),\n      children: getContent(children.props.children),\n    });\n  }\n\n  return (\n    <div\n      className={tagItemClass}\n      ref={ref}\n      {...rowProps}\n      {...focusProps}\n      data-focus-visible={isFocusVisible}\n    >\n      {getContent(children)}\n    </div>\n  );\n};\n"]}