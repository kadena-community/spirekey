{"version":3,"file":"Tree.test.js","sourceRoot":"","sources":["../../../../src/components/Tree/Tree.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import { fireEvent, render } from '@testing-library/react';\nimport React from 'react';\nimport { describe, expect, test, vi } from 'vitest';\nimport { Tree } from './Tree';\n\ndescribe('Tree', () => {\n  test('renders without title', () => {\n    const { getByTestId } = render(<Tree />);\n    const treeElement = getByTestId('kda-tree-item');\n    expect(treeElement).toBeInTheDocument();\n  });\n\n  test('renders with title', () => {\n    const { getByTestId } = render(<Tree title={'Example Title'} />);\n    const treeTitleElement = getByTestId('kda-tree-title');\n    expect(treeTitleElement).toBeInTheDocument();\n  });\n\n  test('expands/collapses on click', () => {\n    const onOpen = vi.fn();\n    const onClose = vi.fn();\n\n    const { getAllByTestId } = render(\n      <Tree\n        title={'Example Title'}\n        items={[{ title: 'Child Title' }]}\n        onOpen={onOpen}\n        onClose={onClose}\n      />,\n    );\n\n    const treeTitleElement = getAllByTestId('kda-tree-title')[0];\n\n    expect(onOpen).toHaveBeenCalledTimes(0);\n    fireEvent.click(treeTitleElement);\n    expect(treeTitleElement).toHaveClass('isOpen');\n    expect(onOpen).toHaveBeenCalledTimes(1);\n    expect(onClose).toHaveBeenCalledTimes(0);\n\n    fireEvent.click(treeTitleElement);\n    expect(treeTitleElement).not.toHaveClass('isOpen');\n    expect(onOpen).toHaveBeenCalledTimes(1);\n    expect(onClose).toHaveBeenCalledTimes(1);\n  });\n\n  test('expands/collapses on click while linked prop is true', () => {\n    const onOpenFirst = vi.fn();\n    const onCloseFirst = vi.fn();\n    const onOpenSecond = vi.fn();\n    const onCloseSecond = vi.fn();\n\n    const { getAllByTestId } = render(\n      <Tree\n        title={'Example Title'}\n        isOpen={true}\n        linked={true}\n        items={[\n          {\n            title: 'First Child Title',\n            onOpen: onOpenFirst,\n            onClose: onCloseFirst,\n            items: [{ title: 'Grand child' }],\n          },\n          {\n            title: 'Second Child Title',\n            onOpen: onOpenSecond,\n            onClose: onCloseSecond,\n            items: [{ title: 'Grand child' }],\n          },\n        ]}\n      />,\n    );\n\n    const treeTitleElement = getAllByTestId('kda-tree-title')[0];\n    expect(treeTitleElement).toHaveClass('isOpen');\n\n    const firstTitle = getAllByTestId('kda-tree-title')[1];\n    const secondTitle = getAllByTestId('kda-tree-title')[2];\n\n    expect(firstTitle).toBeInTheDocument();\n    expect(secondTitle).toBeInTheDocument();\n    expect(onOpenFirst).toHaveBeenCalledTimes(0);\n    expect(onCloseFirst).toHaveBeenCalledTimes(0);\n    expect(onOpenSecond).toHaveBeenCalledTimes(0);\n    expect(onCloseSecond).toHaveBeenCalledTimes(0);\n\n    fireEvent.click(firstTitle);\n    expect(onOpenFirst).toHaveBeenCalledTimes(1);\n\n    fireEvent.click(secondTitle);\n    expect(onCloseFirst).toHaveBeenCalledTimes(1);\n    expect(onOpenSecond).toHaveBeenCalledTimes(1);\n\n    fireEvent.click(secondTitle);\n    expect(onCloseSecond).toHaveBeenCalledTimes(1);\n  });\n\n  test('renders child items when expanded, and callbacks should not get called when there is no grand child', () => {\n    const onChildOpen = vi.fn();\n    const onChildClose = vi.fn();\n\n    const { getAllByTestId } = render(\n      <Tree\n        title={'Example Title'}\n        items={[\n          {\n            title: 'Child Title',\n            onOpen: onChildOpen,\n            onClose: onChildClose,\n          },\n        ]}\n      />,\n    );\n    const treeTitleElement = getAllByTestId('kda-tree-title')[0];\n    fireEvent.click(treeTitleElement);\n\n    const treeChildTitleElement = getAllByTestId('kda-tree-title')[1];\n    expect(treeChildTitleElement).toBeInTheDocument();\n\n    expect(onChildOpen).toHaveBeenCalledTimes(0);\n    expect(onChildClose).toHaveBeenCalledTimes(0);\n    fireEvent.click(treeChildTitleElement);\n    expect(onChildOpen).toHaveBeenCalledTimes(0);\n    expect(onChildClose).toHaveBeenCalledTimes(0);\n  });\n\n  test('renders child items when expanded, and callbacks should get called when there is grand child', () => {\n    const onChildOpen = vi.fn();\n    const onChildClose = vi.fn();\n\n    const { getAllByTestId } = render(\n      <Tree\n        title={'Example Title'}\n        items={[\n          {\n            title: 'Child Title',\n            onOpen: onChildOpen,\n            onClose: onChildClose,\n            items: [{ title: 'grand child' }],\n          },\n        ]}\n      />,\n    );\n    const treeTitleElement = getAllByTestId('kda-tree-title')[0];\n    fireEvent.click(treeTitleElement);\n\n    const treeChildTitleElement = getAllByTestId('kda-tree-title')[1];\n    expect(treeChildTitleElement).toBeInTheDocument();\n\n    expect(onChildOpen).toHaveBeenCalledTimes(0);\n    expect(onChildClose).toHaveBeenCalledTimes(0);\n\n    fireEvent.click(treeChildTitleElement);\n    expect(onChildOpen).toHaveBeenCalledTimes(1);\n\n    fireEvent.click(treeChildTitleElement);\n    expect(onChildClose).toHaveBeenCalledTimes(1);\n  });\n});\n"]}